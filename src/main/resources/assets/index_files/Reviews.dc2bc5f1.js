webpackJsonp([2],{"./actions/AddRatingAndReviewActions.js":function(e,t,a){"use strict";function n(){return{type:l}}function r(e){return{type:u,data:e}}function i(e){return{type:d,error:e}}function o(e){return function(t){return t(n()),s.a.post(Object.assign({},c.a,{pathname:"/api/3/reviews/product",credentials:"include",acceptErrors:!0}),e).then(function(e){return t(r(e.RESPONSE))},function(e){return t(i(e)),Promise.reject(e.RESPONSE||e)})}}t.a=o;var s=a("./actions/ApiCaller.js"),c=a("./actions/BaseAjaxConfig.js"),l="ADD_PRODUCT_RATING_REVIEW_REQUEST",u="ADD_PRODUCT_RATING_REVIEW_SUCCESS",d="ADD_PRODUCT_RATING_REVIEW_ERROR"},"./components/FiveStarWidget/FiveStarWidget.css":function(e,t){e.exports={"yellow-star":"wvjgRW","grey-star":"_3Hc5hn",rating:"kcuK2o",tooltip:"_14Na-3",star:"_2tZufY",ratingText:"_1Dk1bd",ratingText0:"XfETOX",ratingText1:"LV79LE",ratingText2:"sHUoTq",ratingText3:"_1jV6JI",ratingText4:"_3IFYIT"}},"./components/FiveStarWidget/FiveStarWidget.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=a("./node_modules/react/react.js"),c=a.n(s),l=a("./node_modules/react-redux/es/index.js"),u=a("./node_modules/classnames/index.js"),d=a.n(u),p=a("./components/Tooltip/index.js"),v=a("./strings.json"),m=a.n(v),g=a("./actions/tooltipActions.js"),f=a("./components/FiveStarWidget/FiveStarWidget.css"),h=a.n(f),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleRatingClick=function(e){return function(){var t=a.props.starCount-e;a.setState({selectedRating:t}),a.props.sendRating&&a.props.rateClicked(t)}},a.handleMouseOut=function(e){var t=a.props.hideTooltip;"function"==typeof t&&t(e)},a.state={selectedRating:e.selectedRating},a}return o(t,e),y(t,[{key:"getTootipData",value:function(e){switch(e){case 0:return m.a.excellent;case 1:return m.a.veryGood;case 2:return m.a.good;case 3:return m.a.bad;case 4:return m.a.veryBad;default:return""}}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.starCount;t++){var a,r=d()(h.a.star,(a={},n(a,h.a["yellow-star"],t>this.props.starCount-1-this.state.selectedRating),n(a,h.a["grey-star"],t<this.props.starCount-this.state.selectedRating),a));e.push(c.a.createElement("span",{id:"star-"+t,onClick:this.handleRatingClick(t),className:r,key:t},"★",c.a.createElement(p.a,{className:h.a.tooltip,anchor:"#star-"+t,position:"top",hoverInTimeout:0,hoverOutTimeout:0},this.getTootipData(t))))}var i=void 0;return this.state.selectedRating&&(i=this.props.starCount-parseInt(this.state.selectedRating,10)),c.a.createElement("div",null,c.a.createElement("div",{className:h.a.rating,onMouseOut:this.handleMouseOut},e),i>=0&&i<=4&&c.a.createElement("span",{className:d()(h.a.ratingText,h.a["ratingText"+i])},this.getTootipData(i)))}}]),t}(s.Component),b=function(e){return{hideTooltip:g.d}};t.a=a.i(l.connect)(null,b)(w)},"./components/FiveStarWidget/index.js":function(e,t,a){"use strict";var n=a("./components/FiveStarWidget/FiveStarWidget.js");t.a=n.a},"./components/MinimalProductInfo/MinimalProductInfo.css":function(e,t){e.exports={"product-info":"_3wBtPi",name:"Sw6kZ2","rating-widget":"mBjPf6","image-container":"_2sxWXr",image:"hoZMHD"}},"./components/MinimalProductInfo/MinimalProductInfo.js":function(e,t,a){"use strict";var n=a("./node_modules/react/react.js"),r=a.n(n),i=a("./node_modules/react-router/es/index.js"),o=a("./components/ProductRatingWidget/ProductRatingWidget.js"),s=a("./utils/getImageUrl.js"),c=a("./components/MinimalProductInfo/MinimalProductInfo.css"),l=a.n(c),u=function(e){var t=e.rating,n=e.image,c=e.title,u=e.productUrl,d=a.i(s.a)(n,48);return r.a.createElement(i.Link,{to:u||""},r.a.createElement("div",{className:l.a["product-info"]},r.a.createElement("div",{className:l.a.name},r.a.createElement("span",null,c)),r.a.createElement("div",{className:l.a["rating-widget"]},r.a.createElement(o.a,{product:{value:{rating:t}},view:"minimal"}))),r.a.createElement("div",{className:l.a["image-container"]},r.a.createElement("img",{src:d,className:l.a.image})))};u.propTypes={image:n.PropTypes.string.isRequired,rating:n.PropTypes.object.isRequired,title:n.PropTypes.string.isRequired},t.a=u},"./components/Pagination/Pagination.css":function(e,t){e.exports={pagination:"_1JKxvj","pagination-helper":"_3v8VuN",label:"_2kUstJ",pages:"_316MJb","num-container":"_1mO8v9",num:"_33m_Yg",selected:"_2udQ2X",dots:"_3dyXK0","no-click":"_1X0VRs"}},"./components/Pagination/Pagination.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){var t=e.numOfPages,r=e.pathname,i=e.query,c=parseInt(e.currentPage,10),p=Math.min(t,g),f=o.a.createElement("div",{className:v.a.label},o.a.createElement(s.Link,{to:{pathname:r,query:m({},i,{page:c-1})}},o.a.createElement(u.a,{strKey:"previous"}))),h=o.a.createElement("div",{className:v.a.label},o.a.createElement(s.Link,{to:{pathname:r,query:m({},i,{page:c+1})}},o.a.createElement(u.a,{strKey:"next"})));return o.a.createElement("div",{className:l()(v.a.pagination,e.className)},o.a.createElement("span",{className:v.a["pagination-helper"]},o.a.createElement(u.a,{strKey:"paginationPageCount",attributes:{current:c,total:Number(t).toLocaleString()}})),c>1?f:null,o.a.createElement("ul",{className:v.a.pages},function(){return c<=g/2?a.i(d.b)(p,1):c+g/2>t?a.i(d.b)(Math.min(g,t),Math.max(t-g+1,1)):a.i(d.b)(g,c-g/2+1)}().map(function(e){return o.a.createElement("li",{key:e,className:v.a["num-container"]},o.a.createElement(s.Link,{className:l()(v.a.num,n({},v.a.selected,e===c)),to:{pathname:r,query:m({},i,{page:e})}},e))})),c<t?h:null)}var i=a("./node_modules/react/react.js"),o=a.n(i),s=a("./node_modules/react-router/es/index.js"),c=a("./node_modules/classnames/index.js"),l=a.n(c),u=a("./components/StringWidget/index.js"),d=a("./utils/arrayHelper.js"),p=a("./components/Pagination/Pagination.css"),v=a.n(p),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g=10;t.a=r},"./components/ReviewsSortUnit/ReviewsSortUnit.css":function(e,t){e.exports={outerContainer:"H6JLlu",sortOption:"_3MuAT6",selected:"_25FbMV"}},"./components/ReviewsSortUnit/ReviewsSortUnit.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=a("./node_modules/react/react.js"),c=a.n(s),l=a("./node_modules/classnames/index.js"),u=a.n(l),d=a("./components/ReviewsSortUnit/ReviewsSortUnit.css"),p=a.n(d),v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),v(t,[{key:"render",value:function(){return c.a.createElement("div",{className:u()(p.a.outerContainer),onClick:this.props.onClick},c.a.createElement("div",{className:u()(p.a.sortOption,n({},p.a.selected,this.props.selected))},this.props.sortOption," ",this.props.showCount&&c.a.createElement("span",null,"(",this.props.count,")")))}}]),t}(s.Component);t.a=m},"./components/ReviewsSortUnit/index.js":function(e,t,a){"use strict";var n=a("./components/ReviewsSortUnit/ReviewsSortUnit.js");t.a=n.a},"./components/ReviewsWidget/index.js":function(e,t,a){"use strict";var n=a("./components/ReviewsWidget/ReviewsWidget.js");t.a=n.a},"./components/SimpleProductHeader/SimpleProductHeader.css":function(e,t){e.exports={"header-card":"_1Z9vji",title:"NWW_bH",arrow:"lVlJHX","product-info":"_2tw077"}},"./components/SimpleProductHeader/SimpleProductHeader.js":function(e,t,a){"use strict";var n=a("./node_modules/react/react.js"),r=a.n(n),i=a("./node_modules/react-router/es/index.js"),o=a("./components/MinimalProductInfo/MinimalProductInfo.js"),s=a("./components/Icons/Icons.js"),c=a("./components/SimpleProductHeader/SimpleProductHeader.css"),l=a.n(c),u=function(e){var t=function(t){e.router.goBack()};return r.a.createElement("div",{className:l.a["header-card"]},e.showBackBtn&&r.a.createElement("a",{href:"javascript:void(0)",onClick:t,className:l.a.arrow},a.i(s.s)()),r.a.createElement("div",{className:l.a.title},r.a.createElement("span",null,e.headerCaption)),r.a.createElement("div",{className:l.a["product-info"]},r.a.createElement(o.a,e)))};u.defaultProps={showBackBtn:!1},u.propTypes={title:n.PropTypes.string.isRequired,rating:n.PropTypes.object.isRequired,productUrl:n.PropTypes.string.isRequired,image:n.PropTypes.string.isRequired,headerCaption:n.PropTypes.string.isRequired,showBackBtn:n.PropTypes.bool},t.a=a.i(i.withRouter)(u)},"./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.css":function(e,t){e.exports={"review-rating-content":"_2vvRAH","loader-container":"_269OP5","error-container":"_39G8Ox","summary-loader":"_24NOLL","not-allowed-container":"_3KMsCk",overlay:"_2z2sqF","overlay-loader":"_3fX1k7"}},"./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.js":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var a=t.location.query.pid,n=t.location.query.rating;return{productSummary:e.productSummary[a],reviewData:e.reviewPageData,userState:e.userState,productId:a,rating:n}}function s(e){return a.i(d.bindActionCreators)({AddProductRatingAndReview:C.a,fetchReviewData:k.d,fetchProductSummary:x.d,postProductRating:S.e,showModal:w.c},e)}Object.defineProperty(t,"__esModule",{value:!0});var c=a("./node_modules/react/react.js"),l=a.n(c),u=a("./node_modules/react-redux/es/index.js"),d=a("./node_modules/redux/es/index.js"),p=a("./node_modules/react-router/es/index.js"),v=a("./strings.json"),m=a.n(v),g=a("./components/Common/Loader/Loader.js"),f=a("./utils/asyncStatusHelper.js"),h=a("./components/SimpleProductHeader/SimpleProductHeader.js"),y=a("./components/Toast/Toast.js"),w=a("./actions/modalActions.js"),b=a("./components/Error/Error.js"),R=a("./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.js"),_=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.js"),j=a("./components/Title/Title.js"),E=a("./toasts.json"),P=a.n(E),C=a("./actions/AddRatingAndReviewActions.js"),S=a("./actions/reviewsConfirmationPageActions.js"),x=a("./actions/productSummaryActions.js"),k=a("./actions/reviewPageActions.js"),A=a("./utils/omnitureHelper.js"),T=a("./utils/safeTraverse.ts"),O=a("./utils/FDPHelper.js"),N=a("./node_modules/fk-cp-perf-beacon/index.js"),D=a.n(N),H=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewPage.css"),W=a.n(H),V=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={overlay:!1,ratingStatus:"",reviewData:null},a.submit=a.submit.bind(a),a.postRating=a.postRating.bind(a),a}return i(t,e),V(t,[{key:"componentDidMount",value:function(){D()({prefix:"des",sampleRate:.2}),this.props.userState.isLoggedIn||this.props.showModal("login");var e=this.props.productId;this.props.fetchReviewData(e),this.props.productSummary||this.props.fetchProductSummary([{productId:e}])}},{key:"postRating",value:function(e){var t=this,n=a.i(T.a)(this.props,["location","query","source"]);this.props.postProductRating(this.props.productId,e,n).then(function(e){t.setState({ratingStatus:"SUCCESS"});var n=t.props.productSummary;if(n){var r=[],i={},o=a.i(T.a)(n,["value","id"]),s=a.i(T.a)(n,["value","rating","count"]);i.eVar16=i.prop16=a.i(T.a)(n,["value","analyticsData","superCategory"]),i.eVar17=i.prop17=a.i(T.a)(n,["value","analyticsData","subCategory"]),i.eVar19=i.prop19=a.i(T.a)(n,["value","analyticsData","vertical"]),i.products=";"+o+";;;;eVar22="+a.i(T.a)(n,["value","analyticsData","superCategory"])+"| eVar19="+i.eVar19,0===s&&r.push("event50"),r.push("event34"),i.events=r.join(","),A.a.trackLink(i,"Rating added")}},function(e){return t.setState({ratingStatus:"ERROR"}),Promise.reject(e)})}},{key:"componentWillReceiveProps",value:function(e){this.sendToAnalytics(e)}},{key:"sendToAnalytics",value:function(e){var t=e.productSummary,n=e.location,r=e.userState;if(a.i(f.h)(t)&&!this.isAnalyticsSend){var i="Write Review: "+a.i(T.a)(t,["value","titles","title"]);O.a.setNavigationContext({pn:"Write Review",pt:i}),O.a.trackPageView();var o=[],s={};s.eVar16=s.prop16=a.i(T.a)(t,["value","analyticsData","superCategory"]),s.eVar17=s.prop17=a.i(T.a)(t,["value","analyticsData","subCategory"]),s.eVar19=s.prop19=a.i(T.a)(t,["value","analyticsData","vertical"]),s.products=";"+a.i(T.a)(t,["value","id"])+";;;;eVar22="+a.i(T.a)(t,["value","analyticsData","category"])+"|eVar19="+s.eVar19,o.push("event1");var c=Object.assign({},A.a.getBaseOmnitureFields({pageName:"Write Review",pageType:i,location:n,userState:r}),s,{events:o.join(",")});A.a.trackOmniturePageView(c),this.isAnalyticsSend=!0}}},{key:"submit",value:function(e){var t=this,n=this.props.userState,r=n.firstName,i=n.lastName,o=r||i?r+" "+i:e.author,s=a.i(T.a)(this.props,["location","query","source"]),c={title:e.title,rating:e.rating,text:e.description,productId:this.props.productId,isCompleted:!0,author:o,source:s},l=this.props.productSummary;this.setState({showOverlay:!0}),this.props.AddProductRatingAndReview(c).then(function(e){var n=[],r={},i=a.i(T.a)(l,["value","id"]),o=a.i(T.a)(l,["value","rating","reviewCount"]);r.prop16=a.i(T.a)(l,["value","analyticsData","superCategory"]),r.prop17=a.i(T.a)(l,["value","analyticsData","subCategory"]),r.prop19=r.eVar19=a.i(T.a)(l,["value","analyticsData","vertical"]),r.products=";"+i+";;;;eVar22="+a.i(T.a)(l,["value","analyticsData","superCategory"])+"| eVar19="+r.eVar19,n.push("event33"),0===o&&n.push("event51"),r.prop47="Write Review Page",r.events=n.join(","),A.a.trackLink(r,"Review Submitted"),t.setState({showOverlay:!1}),t.props.toast.show(P.a.reviewConfirmationToast),t.props.router.push(a.i(T.a)(e,["data","url"]))},function(e){t.setState({showOverlay:!1}),t.props.toast.show({message:e.message||e.ERROR_MESSAGE,level:"ERROR"})})}},{key:"render",value:function(){var e=this.props,t=e.productSummary,n=e.userState,r=e.reviewData,i=e.rating,o=a.i(T.a)(r,["isCertifiedBuyer"])||!1;if(a.i(f.h)(t)&&a.i(f.h)(r)){var s=t.value;return l.a.createElement("div",{className:W.a["review-rating-content"]},l.a.createElement(j.a,{title:m.a.homePageTitle,overrideServerTitle:!0}),s&&l.a.createElement(h.a,{headerCaption:m.a.ratingAndReview,image:a.i(T.a)(s,["media","images",0,"url"]),title:a.i(T.a)(s,["titles","title"]),rating:a.i(T.a)(s,["rating"]),productUrl:a.i(T.a)(s,["baseUrl"])}),l.a.createElement(R.a,null),o&&l.a.createElement(_.a,{submitHandler:this.submit,hasAuthorName:!(!n.firstName&&!n.lastName),postRatingHandler:this.postRating,ratingStatus:this.state.ratingStatus,reviewData:r,rating:i}),!o&&l.a.createElement("div",{className:W.a["not-allowed-container"]},l.a.createElement(b.a,{errorType:"error404",title:"",subtitle:m.a.reviewNotAllowed})),this.state.showOverlay&&l.a.createElement("div",{className:W.a.overlay},l.a.createElement(g.a,{className:W.a["overlay-loader"]})))}return a.i(f.g)(t)||a.i(f.g)(r)?l.a.createElement("div",{className:W.a["error-container"]},l.a.createElement(b.a,null)):l.a.createElement("div",{className:W.a["loader-container"]},l.a.createElement(g.a,{className:W.a["summary-loader"]}))}}]),t}(c.Component),I=a.i(u.connect)(o,s)(M);t.default=a.i(y.a)(a.i(p.withRouter)(I))},"./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.css":function(e,t){e.exports={"rating-review-card":"_2rfo2u","submit-btn":"_3oe6G6","review-card":"_3zS_0H","rating-card":"_3AwHsn",caption:"_1O_Sj9","rating-status":"_3lM63h",error:"Huglld",success:"_1tudS1","rating-widget":"Kj7FZF","review-content":"_2ynvot","text-box":"_1b7zWX","description-box":"_2Vq_k8",label:"_1huZCe",control:"_2lNh_V","h-border":"_2qU1N7","move-right":"_1v1y1A"}},"./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=a("./node_modules/react/react.js"),c=a.n(s),l=a("./components/FiveStarWidget/FiveStarWidget.js"),u=a("./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.js"),d=a("./components/StringWidget/StringWidget.js"),p=a("./strings.json"),v=a.n(p),m=a("./pages/AddRatingAndReviewPage/AddRatingAndReviewWidget/AddRatingAndReviewWidget.css"),g=a.n(m),f=a("./utils/asyncStatusHelper.js"),h=a("./utils/validators.js"),y=a("./node_modules/classnames/index.js"),w=a.n(y),b=a("./utils/safeTraverse.ts"),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),j=60,E=5e3,P=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=a.i(b.a)(e.reviewData,["title"])||"",s=a.i(b.a)(e.reviewData,["text"])||"",c=a.i(b.a)(e.reviewData,["author"])||"",l=e.rating?e.rating:a.i(b.a)(e.reviewData,["rating"])||"";return n.state={controls:{title:{value:o,valid:!0},description:{value:s,valid:!0},author:{value:c,valid:!0},rating:{value:l,valid:!0}}},n.validators={title:function(e){return{valid:a.i(h.f)(e,j),message:v.a.reviewTitleMax,value:e.substring(0,j)}},description:function(e){var t={valid:a.i(h.h)(e),message:v.a.reviewDescriptionEmpty};return t.valid&&(t={valid:a.i(h.f)(e,E),message:v.a.reviewDescriptionMax,value:e.substring(0,E)}),t},rating:function(e){return{valid:a.i(h.h)(e),message:v.a.reviewRatingEmpty}},author:function(e){return{valid:!0}}},n.setRating=n.setRating.bind(n),n.submitHandler=n.submitHandler.bind(n),n.titleChangeHandler=n.onChangeHandler("title").bind(n),n.descriptionChangeHandler=n.onChangeHandler("description").bind(n),n.authorChangeHandler=n.onChangeHandler("author").bind(n),n}return o(t,e),_(t,[{key:"onChangeHandler",value:function(e){var t=this;return function(a){var r=t.validators[e],i=void 0;return"function"==typeof r&&(i=t.validators[e](a),t.setState({controls:R({},t.state.controls,n({},e,R({value:a},i)))})),i}}},{key:"setRating",value:function(e){this.setState({controls:R({},this.state.controls,{rating:{valid:!0,value:e}})}),this.props.postRatingHandler(e)}},{key:"submitHandler",value:function(){var e=this,t=this.state.controls,a=t.title,r=t.description,i=t.author,o=t.rating,s=Object.keys(this.state.controls).reduce(function(t,a){var r,i=e.validators[a]?e.validators[a](e.state.controls[a].value):{valid:!0};return R({},t,(r={},n(r,a,R({},e.state.controls[a],i)),n(r,"valid",t.valid&&i.valid),r))},{valid:!0});this.setState({controls:s}),s.valid&&this.props.submitHandler({title:a.value,description:r.value,author:i.value,rating:o.value})}},{key:"getRatingWidget",value:function(){return c.a.createElement("div",{className:g.a["rating-widget"]},!this.state.controls.rating.valid&&c.a.createElement("div",{className:w()(g.a["rating-status"],g.a.error)},v.a.ratingEmpty),a.i(f.h)(this.props.ratingStatus)&&c.a.createElement("div",{className:w()(g.a["rating-status"],g.a.success)},v.a.ratingSuccess),a.i(f.g)(this.props.ratingStatus)&&c.a.createElement("div",{className:w()(g.a["rating-status"],g.a.error)},v.a.ratingError),c.a.createElement(l.a,{sendRating:!0,rateClicked:this.setRating,starCount:5,selectedRating:this.state.controls.rating.value}))}},{key:"getTitleBox",value:function(){var e=this.state.controls.title;return c.a.createElement(u.a,{value:e.value,type:"text",onChangeHandler:this.titleChangeHandler,placeholder:v.a.reviewTitlePlaceholder,label:v.a.reviewTitle,valid:e.valid,errorMessage:e.message})}},{key:"getDescriptionBox",value:function(){var e=this.state.controls.description;return c.a.createElement(u.a,{value:e.value,type:"textarea",onChangeHandler:this.descriptionChangeHandler,placeholder:v.a.reviewDescPlaceholder,label:v.a.reviewDescription,valid:e.valid,errorMessage:e.message})}},{key:"getAuthorBox",value:function(){return c.a.createElement(u.a,{value:this.state.controls.author.value,type:"text",onChangeHandler:this.authorChangeHandler,placeholder:v.a.reviewAuthorPlaceholder,label:v.a.reviewerName})}},{key:"render",value:function(){var e=this.props.hasAuthorName;return c.a.createElement("div",{className:g.a["rating-review-card"]},c.a.createElement("div",{className:g.a["rating-card"]},c.a.createElement("div",{className:g.a.caption},c.a.createElement(d.b,{strKey:"ratingCaption"})),this.getRatingWidget()),c.a.createElement("hr",{className:g.a["h-border"]}),c.a.createElement("div",{className:g.a["review-card"]},c.a.createElement("div",{className:g.a.caption},c.a.createElement(d.b,{strKey:"reviewCaption"})),c.a.createElement("div",{className:g.a["review-content"]},this.getDescriptionBox(),c.a.createElement("hr",{className:g.a["h-border"]}),this.getTitleBox(),!e&&c.a.createElement("div",null,c.a.createElement("hr",{className:g.a["h-border"]}),this.getAuthorBox()))),c.a.createElement("button",{className:g.a["submit-btn"],onClick:this.submitHandler},v.a.submit))}}]),t}(s.Component);t.a=P},"./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.css":function(e,t){e.exports={"review-side-bar":"_1ZCgAu",header:"_3SyFhG",instructions:"_1gZBWY",item:"_13cTJo",question:"_1RrlUn",answer:"_20QwAZ",link:"_1vqsw_"}},"./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.js":function(e,t,a){"use strict";var n=a("./node_modules/react/react.js"),r=a.n(n),i=a("./components/StringWidget/StringWidget.js"),o=a("./strings.json"),s=a.n(o),c=a("./pages/AddRatingAndReviewPage/AddReviewSidebar/AddReviewSidebar.css"),l=a.n(c),u=function(e){var t=[{questionKey:"reviewSidebarQuestion_1",answerKey:"reviewSidebarAnswer_1"},{questionKey:"reviewSidebarQuestion_2",answerKey:"reviewSidebarAnswer_2"},{questionKey:"reviewSidebarQuestion_3",answerKey:"reviewSidebarAnswer_3",linkTextKey:"reviewSidebarLinkText_3",link:"/helpcentre"}];return r.a.createElement("div",{className:l.a["review-side-bar"]},r.a.createElement("div",{className:l.a.header},r.a.createElement(i.b,{strKey:"reviewSidebarHeading"})),r.a.createElement("div",{className:l.a.instructions},t.map(function(e,t){return r.a.createElement("div",{className:l.a.item,key:t},r.a.createElement("div",{className:l.a.question},r.a.createElement(i.b,{strKey:e.questionKey})),r.a.createElement("div",{className:l.a.answer},r.a.createElement(i.b,{strKey:e.answerKey}),e.linkTextKey&&r.a.createElement("a",{className:l.a.link,href:e.link,title:s.a[e.linkTextKey]},r.a.createElement(i.b,{strKey:e.linkTextKey}))))})))};t.a=u},"./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.css":function(e,t){e.exports={"text-box":"_32o8JY",error:"_2o5VpG",label:"_1AyhZ5","error-text":"_1aV0fV",control:"_16nh-W",focused:"ofBQLv","description-box":"_2onsaO","move-right":"_3bf835"}},"./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=a("./node_modules/react/react.js"),c=a.n(s),l=a("./node_modules/classnames/index.js"),u=a.n(l),d=a("./utils/shallowEqual.js"),p=a("./utils/objectUtils.js"),v=a("./pages/AddRatingAndReviewPage/ReviewPageTextBox/ReviewPageTextBox.css"),m=a.n(v),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={value:e.value,valid:!0,errorMessage:""},a.onChangeHandler=a.onChangeHandler.bind(a),a.onFocus=a.onFocus.bind(a),a.onBlur=a.onBlur.bind(a),a}return o(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=["value","valid","errorMessage"],n=a.i(p.a)(e,t);a.i(d.a)(n,a.i(p.a)(this.props,t))||this.setState(n)}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"onBlur",value:function(){this.setCurrentFieldState({value:this.state.value,focused:!1})}},{key:"setCurrentFieldState",value:function(e){if(this.props.onChangeHandler){var t=this.props.onChangeHandler(e.value);this.setState(g({},e,t))}else this.setState(g({},e))}},{key:"onChangeHandler",value:function(e){this.setCurrentFieldState({value:e.target.value})}},{key:"getTextElement",value:function(){var e={onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChangeHandler,value:this.state.value,placeholder:this.props.placeholder,className:m.a.control};switch(this.props.type){case"text":return c.a.createElement("input",e);case"textarea":return c.a.createElement("textarea",g({rows:"8"},e));default:return null}}},{key:"render",value:function(){var e,t=this.state,a=t.valid,r=t.focused;return c.a.createElement("div",{className:u()(m.a["text-box"],(e={},n(e,m.a.error,!a),n(e,m.a.focused,r),e))},!a&&c.a.createElement("div",{className:u()(m.a["move-right"],m.a["error-text"])},c.a.createElement("span",null,this.state.errorMessage)),c.a.createElement("div",{className:m.a.label},c.a.createElement("span",null,this.props.label)),this.getTextElement())}}]),t}(s.Component);h.defaultProps={value:"",validators:[],type:"text"},h.propTypes={value:s.PropTypes.string,type:s.PropTypes.string.isRequired,validators:s.PropTypes.array,label:s.PropTypes.string,placeholder:s.PropTypes.string,helpText:s.PropTypes.string,onChangeHandler:s.PropTypes.func},t.a=h},"./pages/ReadReviewsPage/ReadReviewsPage.css":function(e,t){e.exports={"full-width-pagination":"_1vKM3Y","full-opacity":"_3BRC7L","no-opacity":"_1KVtzT","read-reviews-page-margin":"lDK8vn","read-reviews-content":"hFPo14","header-container":"_1vJnV0","page-title":"_1SJWAA","minimal-info":"_2WNU6h",line:"_3DCdKt",ratingClicked:"_2xRHIi",showAll:"_1FVdAJ","left-panel":"_3n2LXv","button-gray":"_2yST67","full-width":"_3wYu6I","tabs-container":"_2_xtR5","min-height":"_3y6XNb"}},"./pages/ReadReviewsPage/ReadReviewsPage.js":function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var a=t.location.query.pid;return{rnrDetails:e.ratingsAndReviews,productSummary:e.productSummary[a],userState:e.userState}}function c(e){return a.i(v.bindActionCreators)({fetchReadReviewsPageData:W.c,fetchProductSummary:P.d,fetchProductReviewsForPage:I.g,showModal:U.c,voteAction:I.f,changeProductReviewTab:I.h},e)}function l(e){return d.a.createElement("div",{className:D.a["read-reviews-page-margin"]},d.a.createElement(J,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=a("./node_modules/react/react.js"),d=a.n(u),p=a("./node_modules/react-redux/es/index.js"),v=a("./node_modules/redux/es/index.js"),m=a("./node_modules/classnames/index.js"),g=a.n(m),f=a("./node_modules/fk-cp-perf-beacon/index.js"),h=a.n(f),y=a("./node_modules/react-router/es/index.js"),w=a("./utils/asyncStatusHelper.js"),b=a("./components/RatingStarsUnit/index.js"),R=a("./components/RatingCountUnit/index.js"),_=a("./components/ReviewsSortUnit/index.js"),j=a("./components/ReviewsWidget/index.js"),E=a("./components/Button/Button.js"),P=a("./actions/productSummaryActions.js"),C=a("./components/SimpleProductHeader/SimpleProductHeader.js"),S=a("./utils/omnitureHelper.js"),x=a("./components/Title/Title.js"),k=a("./strings.json"),A=a.n(k),T=a("./utils/safeTraverse.ts"),O=a("./components/Common/Card/index.js"),N=a("./pages/ReadReviewsPage/ReadReviewsPage.css"),D=a.n(N),H=a("./components/Pagination/Pagination.js"),W=a("./actions/readReviewsPageActions.js"),V=a("./components/StringWidget/StringWidget.js"),M=a("./utils/urlutils.ts"),I=a("./actions/productReviewActions.js"),U=a("./actions/modalActions.js"),q=a("./utils/FDPHelper.js"),B=a("./utils/objectUtils.js"),F=a("./utils/domHelper.js"),K=a("./utils/stringUtils.js"),L=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),X=function(e){function t(e){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.sortClicked=a.sortClicked.bind(a),a.onClick=a.onClick.bind(a),a.onRatingClicked=a.onRatingClicked.bind(a),a.state={ratingClicked:!1,rating:null},a}return o(t,e),L(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.query,n=t.pid;h()({prefix:"des",sampleRate:.2});var r=this.props.location.query.page;r&&"1"!==r?this.props.fetchReadReviewsPageData(n).then(function(t){var i=a.i(T.a)(e.props,["rnrDetails","tabsData","tabs"])||[],o=a.i(T.a)(e.props,["rnrDetails","reviewsData"])||{},s=o.activeTab,c=o.REVIEW_COUNT;i&&e.props.fetchProductReviewsForPage(null,i[s],n,r,c)}):this.props.fetchReadReviewsPageData(n),this.props.fetchProductSummary([{productId:n}]),q.a.setNavigationContext({pn:"Read Review",pt:"Read Review"}),a.i(F.d)(this.refs.reviewsContainer,D.a["full-opacity"])}},{key:"componentWillReceiveProps",value:function(e){var t=a.i(T.a)(e,["rnrDetails","tabsData","tabs"])||[],n=a.i(T.a)(e,["rnrDetails","reviewsData"])||{},r=n.activeTab,i=n.REVIEW_COUNT,o=e.location,s=o.query,c=s.pid,l=s.page,u=1;if(l&&(u=l),(this.props.location.query.page!==l||!a.i(T.a)(n,["reviewsData",r])&&a.i(w.h)(n)&&t[r])&&this.props.fetchProductReviewsForPage(null,t[r],c,u,i),a.i(w.h)(e.productSummary)&&a.i(w.h)(n)&&!this.isOmniturePVSend){var d=e.productSummary,p=a.i(T.a)(e,["rnrDetails","reviewsData","activeTab"]),v=a.i(T.a)(e,["rnrDetails","tabsData","tabs",p,"value","displayText"]),m={},g={},f=["event1"];m.pageType="Read Review",m.category=g.eVar1=a.i(T.a)(d,["value","analyticsData","category"]),m.superCategory=g.eVar16=g.prop16=a.i(T.a)(d,["value","analyticsData","superCategory"]),m.subCategory=g.eVar17=g.prop17=a.i(T.a)(d,["value","analyticsData","subCategory"]),m.vertical=g.eVar19=g.prop19=a.i(T.a)(d,["value","analyticsData","vertical"]),m.title=g.prop49=a.i(T.a)(d,["value","titles","title"]),g.prop22=v,m.products=g.products=";"+a.i(T.a)(d,["value","id"])+";;;;eVar22="+a.i(T.a)(d,["value","analyticsData","category"])+"| eVar19="+g.eVar19,m.pageName="Read Review: "+m.title;var h=Object.assign({},S.a.getBaseOmnitureFields({pageName:m.pageName,pageType:m.pageType,location:this.props.location,userState:this.props.userState}),g,{events:f.join(",")});S.a.setPageContext("READREVIEWS",m),S.a.trackOmniturePageView(h),q.a.setNavigationContext({pn:m.pageName,pt:m.pageType}),q.a.trackPageView(),this.isOmniturePVSend=!0}}},{key:"componentWillUnmount",value:function(){q.a.flushEvents()}},{key:"onRatingClicked",value:function(e){this.setState({ratingClicked:!0,rating:e});var t=a.i(T.a)(this.props,["rnrDetails","reviewsData"]),n=t.REVIEW_COUNT,r=this.props.location,i=r.query,o=i.pid,s=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs",0]),c=i.page,l=1;c&&(l=c),this.props.fetchProductReviewsForPage(e,s,o,l,n)}},{key:"onClick",value:function(e){if(!a.i(T.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");this.props.router.push(e)}},{key:"sortClicked",value:function(e,t,n){if(this.setState({ratingClicked:!1}),t!==e||n){var r=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs"]),i=this.props.location,o=i.query;S.a.trackLink({prop14:a.i(T.a)(r,[e,"value","displayText"]),prop3:"Read Review",prop4:"Read Review",products:S.a.getValueFromPageContext("BROWSESEARCH","products")},"RR Review Tab");var s=a.i(B.c)(o,["page"]);this.props.router.push({pathname:this.props.location.pathname,query:s}),this.props.changeProductReviewTab(e)}}},{key:"render",value:function(){var e,t=this,r=this.props,i=r.productSummary,o=r.userState,s=r.showModal,c=r.voteAction,l=a.i(T.a)(this.props,["rnrDetails","tabsData","tabs"])||[],u=a.i(T.a)(this.props,["rnrDetails","reviewsData"])||{},p=a.i(T.a)(this.props,["rnrDetails","ratingsData"])||{},v=a.i(T.a)(o,["isLoggedIn"]),m=p.totalReviewsCount,f=p.averageRating,h=p.totalRatingsCount,y=p.breakup,P=a.i(T.a)(p,["writeReviewUrl"]);P=a.i(M.b)("otracker","rr_review_write",P);var S=u.activeTab,k=u.REVIEW_COUNT,N=i&&i.value,W=this.props.location.query.page||1,I=a.i(T.a)(l,[S,"value","count"])||1,U=Math.ceil(I/k),q=a.i(T.a)(u,["reviewsData",S,"reviewsData"])||[],B=a.i(T.a)(N,["titles","title"]);return d.a.createElement("div",{ref:"reviewsContainer",className:D.a["no-opacity"]},d.a.createElement(x.a,{title:N?a.i(K.a)(A.a.readReviewsPageTitle,{title:B}):A.a.homePageTitle}),d.a.createElement(O.a,{className:g()(D.a["read-reviews-content"],n({},D.a["min-height"],!a.i(w.h)(u)))},d.a.createElement("div",{className:D.a["header-container"]},N?d.a.createElement(C.a,{headerCaption:A.a.ratingAndReview,image:a.i(T.a)(N,["media","images",0,"url"]),title:B,rating:N.rating,productUrl:N.baseUrl}):null),d.a.createElement("div",{className:g()("row")},d.a.createElement("div",{className:g()("col-3-12")},d.a.createElement("div",{className:g()("row",D.a["left-panel"])},d.a.createElement("div",{className:g()("col-4-12")},d.a.createElement(R.a,{ratingsCount:h,reviewsCount:m,avgRating:f})),d.a.createElement("div",{className:g()("col-8-12")},d.a.createElement(b.a,{onClick:this.onRatingClicked.bind(this),total:h,breakup:y}))),d.a.createElement("div",{className:g()("row",D.a["left-panel"])},P?d.a.createElement(E.a,{onClick:this.onClick.bind(this,P),className:g()(D.a["button-gray"])},d.a.createElement(V.b,{strKey:"reviewsRateWriteButton"})):null)),d.a.createElement("div",{className:g()("col-9-12")},d.a.createElement("div",{className:g()("row",D.a["tabs-container"])},l&&l.map(function(e,a){return d.a.createElement(_.a,{showCount:!0,key:a,selected:a===S,sortOption:e.value.displayText,count:e.value.count,onClick:t.sortClicked.bind(t,a,S,e.firstLoad)})})),this.state.ratingClicked?d.a.createElement("div",{onClick:this.sortClicked.bind(this,0,0,!0),className:g()(D.a.ratingClicked,D.a.line)},d.a.createElement(V.b,{strKey:"ratingClicked",attributes:{rating:this.state.rating}}),d.a.createElement("span",{className:g()(D.a.showAll)}," ",d.a.createElement(V.b,{strKey:"showAll"}))):null,d.a.createElement("div",{className:g()("row",D.a["full-width"],(e={},n(e,D.a["no-opacity"],!a.i(w.h)(u)),n(e,D.a["full-opacity"],a.i(w.h)(u)),e))},a.i(w.h)(u)&&q.map(function(e,t){return d.a.createElement("div",{className:D.a.line,key:t},d.a.createElement(j.a,{className:g()(D.a["full-width"]),userReview:e.value,voteAction:c,showModal:s,isLoggedIn:v}))}),U>1&&a.i(w.h)(u)&&!this.state.ratingClicked?d.a.createElement(H.a,{className:g()(D.a["full-width-pagination"]),currentPage:W,numOfPages:U,pathname:this.props.location.pathname,query:this.props.location.query}):null)))))}}]),t}(u.Component),J=a.i(p.connect)(s,c)(a.i(y.withRouter)(X))},"./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.css":function(e,t){e.exports={"reviews-confirmation-page-margin":"_3X6CC3","reviews-confirmation-content":"_1hhliZ","page-title":"owgplv","no-products-text":"_1Zk21-","product-card":"_3sw6Ub","product-image-container":"P3ETrn","product-title":"_2hU8nC","write-review-link":"_3cPzR5",clearfix:"_1XsgH5"}},"./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.js":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{reviewsConfirmationData:e.reviewsConfirmationPage,userState:e.userState}}function s(e){return a.i(p.bindActionCreators)({fetchReviewsConfirmationPageData:E.d,postProductRating:E.e,showModal:T.c},e)}function c(e){return u.a.createElement("div",{className:w.a["reviews-confirmation-page-margin"]},u.a.createElement(W,e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=a("./node_modules/react/react.js"),u=a.n(l),d=a("./node_modules/react-redux/es/index.js"),p=a("./node_modules/redux/es/index.js"),v=a("./node_modules/classnames/index.js"),m=a.n(v),g=a("./node_modules/fk-cp-perf-beacon/index.js"),f=a.n(g),h=a("./node_modules/react-router/es/index.js"),y=a("./pages/ReviewsConfirmationPage/ReviewsConfirmationPage.css"),w=a.n(y),b=a("./utils/asyncStatusHelper.js"),R=a("./components/Common/Card/index.js"),_=a("./components/FiveStarWidget/index.js"),j=a("./components/Title/Title.js"),E=a("./actions/reviewsConfirmationPageActions.js"),P=a("./utils/safeTraverse.ts"),C=a("./components/Common/Image/SimpleImage.js"),S=a("./utils/getImageUrl.js"),x=a("./components/StringWidget/index.js"),k=a("./components/Common/Loader/Loader.js"),A=a("./utils/omnitureHelper.js"),T=a("./actions/modalActions.js"),O=a("./strings.json"),N=a.n(O),D=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),H=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.rateClicked=a.rateClicked.bind(a),a.onClickHandler=a.onClickHandler.bind(a),a}return i(t,e),D(t,[{key:"componentDidMount",value:function(){if(!a.i(P.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");var e=a.i(P.a)(this.props,["location","query","source"]);this.props.fetchReviewsConfirmationPageData(0,5,e);var t=Object.assign({},A.a.getBaseOmnitureFields({pageName:"Review My Purchases",pageType:"Review My Purchases",location:this.props.location,userState:this.props.userState}),{events:"event1"});f()({prefix:"des",sampleRate:.2}),A.a.trackOmniturePageView(t)}},{key:"rateClicked",value:function(e,t){var n=[],r={},i=a.i(P.a)(this.props,["location","query","source"]);n.push("event34"),r.prop46="RMP",r.prop4="Review My Purchase",r.events=n.join(","),A.a.trackLink(r,"RMP Rating added"),this.props.postProductRating(e,t,i)}},{key:"onClickHandler",value:function(e){if(!a.i(P.a)(this.props,["userState","isLoggedIn"]))return void this.props.showModal("login");this.props.router.push(e)}},{key:"render",value:function(){var e=this,t=a.i(P.a)(this.props,["reviewsConfirmationData","product"]);return a.i(b.h)(this.props.reviewsConfirmationData)?u.a.createElement("div",null,u.a.createElement(j.a,{title:N.a.reviewsConfirmationPageTitle}),u.a.createElement(R.a,{className:w.a["reviews-confirmation-content"]},u.a.createElement("div",{className:m()(w.a["page-title"])},u.a.createElement(x.a,{strKey:"reviewYourPurchases"})),t&&t.length<1?u.a.createElement("div",{className:w.a["no-products-text"]},u.a.createElement(x.a,{strKey:"confirmationNoProducts"})):null,t&&t.map(function(t,n){return u.a.createElement("div",{key:n,className:w.a["product-card"]},u.a.createElement("div",{className:w.a["product-image-container"]},u.a.createElement(C.a,{src:a.i(S.a)(t.dynamicImageUrl,232,90),size:232})),u.a.createElement("div",{className:w.a["product-title"]},t.productTitle),u.a.createElement("div",{className:w.a.clearfix},u.a.createElement(_.a,{sendRating:!0,rateClicked:e.rateClicked.bind(e,t.pid),starCount:5,selectedRating:t.rating})),t.writeUrl?u.a.createElement("div",{onClick:e.onClickHandler.bind(e,t.writeUrl),className:w.a["write-review-link"]},u.a.createElement(x.a,{strKey:"writeAReviewLink"})):null)}))):u.a.createElement("div",{className:w.a["reviews-confirmation-content"]},u.a.createElement(R.a,null,u.a.createElement(k.a,null)))}}]),t}(l.Component),W=a.i(d.connect)(o,s)(a.i(h.withRouter)(H))}});