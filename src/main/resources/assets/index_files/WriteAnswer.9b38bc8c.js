webpackJsonp([19],{"./components/QnAWidgets/AnswerWidget.css":function(e,t){e.exports={"answer-form":"S5tOT1","answer-text":"_1BVRXE","anonymous-label":"_1iPolc","submit-btn":"_2rBCUF","question-title":"_1sftZm","text-container":"_2_-Ffn","error-msg":"_2TC14p","success-container":"_2fYEbu","success-img":"_20yXpl","success-title":"_1w1gTJ","success-desc":"_2wiogj","right-container":"_3RueKs"}},"./components/QnAWidgets/AnswerWidget.js":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{answer:e.questionAndAnswer.answer,userState:e.userState}}var i,c,u=n("./node_modules/react/react.js"),l=n.n(u),m=n("./node_modules/react-redux/es/index.js"),p=n("./components/Toast/withToast.js"),d=n("./utils/debounce.js"),f=n("./utils/asyncStatusHelper.js"),g=n("./utils/safeTraverse.ts"),h=n("./components/Checkbox/Checkbox.js"),w=n("./components/StringWidget/StringWidget.js"),y=n("./components/Button/index.js"),b=n("./pages/Checkout/TextInput.js"),v=n("./actions/productQNAActions.js"),x=n("./images/thank_you.png"),_=n.n(x),T=n("./components/QnAWidgets/AnswerWidget.css"),j=n.n(T),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),E=1,S=200,P=(c=i=function(e){function t(e){a(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.saveAnswer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!("string"!=typeof e||e.length<E||e.length>S)){var a=s.props,r=a.source,o=a.questionId;s.props.saveAnswer(o,{text:e,submitState:t,anonymous:n,source:r})}},s.handleTextChange=function(e){s.setState({answerText:e,textareaError:""},function(){s.timeout=s.saveAnswerFn(e,"DRAFT",s.state.isAnonymous)})},s.handleCheckboxChange=function(e){var t=e.checked;s.setState({isAnonymous:t})},s.validateField=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===e.length&&s.setState({textareaError:n.i(w.a)("blankAnswerMsg")}),e>E||e.length<=S},s.handleSubmit=function(e){e&&e.preventDefault();var t=s.state.answerText;s.validateField(t||"")&&(s.timeout&&clearTimeout(s.timeout),s.saveAnswer(s.state.answerText,"SUBMIT",s.state.isAnonymous))},s.renderSuccessContent=function(e,t){var a=e.firstName,r=n.i(g.a)(t,["data","anonymous"]);return l.a.createElement("div",{className:j.a["success-container"]},l.a.createElement("img",{src:_.a,className:j.a["success-img"]}),l.a.createElement("div",{className:j.a["right-container"]},l.a.createElement("div",{className:j.a["success-title"]},n.i(w.a)("answerSuccessMsg"),s.renderSuccessMsg(a,r)),l.a.createElement("div",{className:j.a["success-desc"]},n.i(w.a)("answerSuccessDesc"))))},s.renderQuestionTitle=function(e){return l.a.createElement("div",{className:j.a["question-title"]},"Q: "+e)},s.state={isAnonymous:e.anonymous,answerText:e.answerText||"",textareaError:""},s.saveAnswerFn=n.i(d.a)(s.saveAnswer,2e3),s}return s(t,e),A(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.answerText,r=t.anonymous;a===e.answerText&&r===e.anonymous||this.setState({answerText:e.answerText||"",isAnonymous:e.anonymous,textareaError:""}),n.i(f.h)(e.answer)&&"SUBMIT"===n.i(g.a)(e.answer,["data","submitState"])?this.setState({answerText:"",isAnonymous:!1,textareaError:""}):n.i(f.g)(e.answer)&&this.props.toast.showError({message:n.i(w.a)("checkoutInitErrorMsg")})}},{key:"renderSuccessMsg",value:function(e,t){var a="";return t?a=n.i(w.a)("answerAnonymousMsg"):e&&!t?a=n.i(w.a)("answerPublicNameMsg",{name:e}):e||(a=n.i(w.a)("answerNoNameMsg")),a}},{key:"render",value:function(){var e=this.props,t=e.answer,a=e.title,r=e.userState,s=this.state,o=s.isAnonymous,i=s.answerText,c=s.textareaError,u=(i||"").length,m=u-S,p=n.i(f.e)(t);return n.i(f.h)(t)&&"SUBMIT"===n.i(g.a)(t,["data","submitState"])?this.renderSuccessContent(r,t):l.a.createElement("form",{onSubmit:this.handleSubmit,className:j.a["answer-form"]},Boolean(a)&&this.renderQuestionTitle(a),l.a.createElement("div",{className:j.a["text-container"]},l.a.createElement(b.a,{type:"textarea",value:i,onTextChange:this.handleTextChange,className:j.a["answer-text"],placeholder:n.i(w.a)("qnaAnswerPlaceholderText"),maxLength:S+10,tabIndex:"1",rows:"6",animatePlaceholder:!1}),m>0&&l.a.createElement("span",{className:j.a["error-msg"]},n.i(w.a)("charLimitText",{limit:S,count:m})),Boolean(c)&&l.a.createElement("span",{className:j.a["error-msg"]},c)),l.a.createElement(h.a,{tabIndex:"2",checked:o,label:n.i(w.a)("qnaAnonymousSubmissionLabel"),onChange:this.handleCheckboxChange,className:j.a["anonymous-label"]}),l.a.createElement(y.a,{tabIndex:"3",secondary:!0,className:j.a["submit-btn"],disabled:p},n.i(w.a)(p?"answerSavingText":"submit")))}}]),t}(u.Component),i.defaultProps={answerText:"",anonymous:!1,title:""},i.propTypes={questionId:u.PropTypes.string.isRequired,title:u.PropTypes.string,source:u.PropTypes.string,answerText:u.PropTypes.string,anonymous:u.PropTypes.bool},c),N={saveAnswer:v.j};t.a=n.i(m.connect)(o,N)(n.i(p.a)(P))},"./images/thank_you.png":function(e,t,n){e.exports=n.p+"fk-cp-zion/img/thank_you_ab7c8c.png"},"./pages/WriteAnswerPage/WriteAnswerPage.css":function(e,t){e.exports={wrapper:"Y7JdTJ",content:"_2wQDtC",loading:"_6uOV1T","loader-icon":"_1fY_2q","left-content":"nJZvfs","right-content":"_3nVMgj","error-container":"_2gICjG","error-subtitle":"lNeGtw","error-content":"_3dI9wu"}},"./pages/WriteAnswerPage/WriteAnswerPage.js":function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,u=n("./node_modules/react/react.js"),l=n.n(u),m=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/classnames/index.js"),d=n.n(p),f=n("./components/Error/Error.js"),g=n("./components/Common/Card/index.js"),h=n("./components/Loader/Loader.js"),w=n("./components/Common/Loader/Loader.js"),y=n("./components/QnAWidgets/AnswerWidget.js"),b=n("./components/ProductGridUnit/SimpleProductGridUnit.js"),v=n("./components/StringWidget/StringWidget.js"),x=n("./components/Title/Title.js"),_=n("./utils/safeTraverse.ts"),T=n("./utils/asyncStatusHelper.js"),j=n("./actions/productQNAActions.js"),A=n("./pages/WriteAnswerPage/WriteAnswerPage.css"),E=n.n(A),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),P="sap_question_detail_default",N="sap_product_summary",C="sap_error_default",k=[N,P,C],q=(c=i=function(e){function t(){var e,a,o,i;r(this,t);for(var c=arguments.length,u=Array(c),m=0;m<c;m++)u[m]=arguments[m];return a=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.renderComponent=function(e,t,a){if(!t)return null;var r="widget_"+a;switch(e){case P:var s=n.i(_.a)(t.data,[0,"value"]),i=n.i(_.a)(s,["answers",0])||{},c=n.i(_.a)(o.context,["location","query"])||{},u=c.questionId,m=c.source;return l.a.createElement("div",{key:r,className:d()("col col-9-12",E.a["right-content"])},l.a.createElement(y.a,{questionId:u,source:m,title:n.i(_.a)(s,["text"]),answerText:i.text,anonymous:i.anonymous}));case N:return l.a.createElement("div",{key:r,className:d()("col col-3-12",E.a["left-content"])},l.a.createElement(b.a,{product:n.i(_.a)(t,["data",0]),actualSize:180,size:312,quality:70,view:"detail"}));case C:return l.a.createElement("div",{key:r,className:d()("col col-9-12",E.a["error-container"])},l.a.createElement(f.a,{errorType:"error404",title:"",subtitleclassName:E.a["error-subtitle"],subtitle:n.i(_.a)(t,["data",0,"value","title"])}))}return null},o.renderContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=n.i(_.a)(e,["data","data"])||{};return l.a.createElement("div",{className:"row"},t.map(function(e,t){return o.renderComponent(e,a[e],t)}))},i=a,s(o,i)}return o(t,e),S(t,[{key:"componentWillUnmount",value:function(){this.props.resetData()}},{key:"componentDidMount",value:function(){n.i(x.b)(n.i(v.a)("homePageTitle"),!0);var e=n.i(_.a)(this.context,["location","query"])||{},t=e.pid,a=e.questionId,r=e.source;this.props.fetchData({productId:t,questionId:a,source:r},"qna-submit-answer")}},{key:"render",value:function(){var e=this.props,t=e.pageData,r=e.widgets,s=null;return s=n.i(T.h)(t)?this.renderContent(t,r):n.i(T.g)(t)?l.a.createElement(f.a,{className:E.a["error-content"]}):n.i(w.a)({className:E.a["loader-icon"]}),l.a.createElement("div",{className:E.a.wrapper},l.a.createElement(h.a,{visible:!n.i(T.h)(t)}),l.a.createElement(g.a,{className:d()(E.a.content,a({},E.a.loading,!n.i(T.h)(t)))},s))}}]),t}(u.Component),i.contextTypes={location:u.PropTypes.object.isRequired},c),O={fetchData:j.h,resetData:j.i};t.default=n.i(m.connect)(function(e){return function(t){return{pageData:t.questionAndAnswer.pageData,widgets:e}}}(k),O)(q)}});